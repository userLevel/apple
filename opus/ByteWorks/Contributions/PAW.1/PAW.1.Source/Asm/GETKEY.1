;................................................................;; GETKEY - Wait for a keypress, and return its value as a return code,;          Code is reusable and restartable.;;      Example:-;          unset error          ; * Survive non-zero return code in EXEC files;          echo Enter option (A or B);          GETKEY;          set char {status};          echo;if {char} == 65 ; echo Option 'A' selected;          else if {char} == 66 ; echo Option 'B' selected;          else                 ; echo invalid option;          end;;          Copyright by Peter Watson, December 1988.;;................................................................         longa on         longi onGETKEY   start         pha                            Space for result         pea   1                        Echo flag (1 = echo char)         ldx   #$220C                   Read Character         jsl   $E10000                  Call toolbox         pla                            Get character         and   #$007F                   Ensure high bit is off         rtlEyeball  dc    c'&SYSNAME - Copyright by Peter Watson &SYSDATE &SYSTIME'         end