******************************************************************  M6502.65C02**  These macros support those features of the Rockwell version*  of the 65C02 which are not present in the Western Design*  Center's definition of the chip.  These instructions are not*  included on future upgrades to the 65C02, such as the 16 bit*  65816, so they should be used with caution.**  By Mike Westerfield*  Copyright (C) December 1984, All rights reserved*  By the Byte Works, Inc.*****************************************************************         MACRO&LAB     RMB0  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"07",I1"&ZP"         MEND         MACRO&LAB     RMB1  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"17",I1"&ZP"         MEND         MACRO&LAB     RMB2  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"27",I1"&ZP"         MEND         MACRO&LAB     RMB3  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"37",I1"&ZP"         MEND         MACRO&LAB     RMB4  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"47",I1"&ZP"         MEND         MACRO&LAB     RMB5  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"57",I1"&ZP"         MEND         MACRO&LAB     RMB6  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"67",I1"&ZP"         MEND         MACRO&LAB     RMB7  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"77",I1"&ZP"         MEND         MACRO&LAB     SMB0  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"87",I1"&ZP"         MEND         MACRO&LAB     SMB1  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"97",I1"&ZP"         MEND         MACRO&LAB     SMB2  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"A7",I1"&ZP"         MEND         MACRO&LAB     SMB3  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"B7",I1"&ZP"         MEND         MACRO&LAB     SMB4  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"C7",I1"&ZP"         MEND         MACRO&LAB     SMB5  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"D7",I1"&ZP"         MEND         MACRO&LAB     SMB6  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"E7",I1"&ZP"         MEND         MACRO&LAB     SMB7  &ZP         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2&LAB     DC    H"F7",I1"&ZP"         MEND         MACRO&LAB     BBR0  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"0F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBR1  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"1F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBR2  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"2F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBR3  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"3F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBR4  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"4F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBR5  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"5F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBR6  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"6F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBR7  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"7F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS0  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"8F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS1  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"9F",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS2  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"AF",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS3  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"BF",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS4  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"CF",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS5  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"DF",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS6  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"EF",I1"&ZP,&REL-*-3"         MEND         MACRO&LAB     BBS7  &ZP,&REL         LCLC  &CH&CH      AMID  &ZP,1,1         AIF   "&CH"<>"[",.L1&ZP      SETC  "&ZP",2,L:&ZP-2         AGO   .L2.L1         AIF   &ZP<$100,.L2         MNOTE "*** ERROR: Operand too Big",2.L2         AIF   *-&REL+3<$81.OR.&REL-*-3<$80,.L3         MNOTE "*** ERROR: Rel Branch Out of Range",8.L3&LAB     DC    H"FF",I1"&ZP,&REL-*-3"         MEND