      REM Conway's game of Life.      REM      REM This version is played on a small, 20 by 20 grid mapped as      REM spots on the Apple IIGS graphics screen.      DIM GRID(21, 21) AS INTEGER :! The current state of the world.      DIM R AS INTEGER , C AS INTEGER :! Row and column number.      DIM G AS INTEGER :! Generation number.      ! Set up the world.      FOR R = 0 TO 21        FOR C = 0 TO 21          GRID(C, R) = 0        NEXT      NEXT      GRID(11, 10) = 1      GRID(10, 11) = 1      GRID(10, 12) = 1      GRID(11, 12) = 1      GRID(12, 12) = 1      ! Set up the graphics screen.      CALL INITGRAPHICS      ! Draw the screen.      CALL DRAWSCREEN      ! Create and move through the generations.      FOR G = 1 TO 10        CALL NEXTGENERATION        CALL DRAWSCREEN      NEXT      INPUT "";A$      END      !----------------------------------------------------------      !      ! DrawScreen - Draw the cells on the graphics screen      !      ! Shared variables:      !    Grid - array containing the state of the spots      !      !----------------------------------------------------------      SUB DRAWSCREEN      SHARED GRID()      DIM R AS INTEGER , C AS INTEGER :! Row and column number.      SETPENSIZE (3, 3)      FOR R = 1 TO 20        FOR C = 1 TO 20          IF GRID(C, R) = 0 THEN            SETSOLIDPENPAT (0)          ELSE            SETSOLIDPENPAT (15)          END IF          MOVETO (C * 4, R * 4)          LINETO (C * 4, R * 4)        NEXT      NEXT      END SUB      !----------------------------------------------------------      !      ! InitGraphics - Set up for graphics      !      !----------------------------------------------------------      SUB INITGRAPHICS      HGR      SETPENMODE (0)      SETSOLIDPENPAT (15)      END SUB      !----------------------------------------------------------      !      ! NextGeneration - Calculate the next generation      !      ! Shared variables:      !    Grid - array containing the current state of the      !       spots; this is updated.      !      !----------------------------------------------------------      SUB NEXTGENERATION      SHARED GRID()      DIM WORK(20, 20) AS INTEGER :! Used to generate the next state of the world.      DIM R AS INTEGER , C AS INTEGER :! Row and column number.      DIM N AS INTEGER :! Number of occupied surrounding cells.      FOR R = 1 TO 20        FOR C = 1 TO 20          N = GRID(C - 1, R - 1) + GRID(C, R - 1) + GRID(C + 1, R - 1) + GRID(C - 1, R) + GRID(C + 1, R) + GRID(C - 1, R + 1) + GRID(C, R + 1) + GRID(C + 1, R + 1)          IF N = 3 THEN            WORK(C, R) = 1          ELSE IF N = 2 THEN            WORK(C, R) = GRID(C, R)          ELSE            WORK(C, R) = 0          END IF        NEXT      NEXT      FOR R = 1 TO 20        FOR C = 1 TO 20          GRID(C, R) = WORK(C, R)        NEXT      NEXT      END SUB