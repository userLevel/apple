      REM Conway's game of Life.      REM      REM This version is played on a small, 20 by 20 grid mapped as      REM spots on the Apple IIGS graphics screen.      ! GRID1 and GRID2 hold the state of the world on alternate generations.      DIM GRID1(21, 21) AS INTEGER , GRID2(21, 21) AS INTEGER      DIM R AS INTEGER , C AS INTEGER :! Row and column number.      DIM G AS INTEGER :! Generation number.      ! Set up the world.      FOR R = 0 TO 21        FOR C = 0 TO 21          GRID1(C, R) = 0          GRID2(C, R) = 0        NEXT      NEXT      GRID1(10, 10) = 1      GRID1(10, 11) = 1      GRID1(11, 11) = 1      GRID1(12, 11) = 1      GRID1(11, 12) = 1      ! Set up the graphics screen.      CALL INITGRAPHICS      ! Draw the screen.      CALL DRAWSCREEN(GRID1())      ! Create and move through the generations.      FOR G = 1 TO 25        CALL NEXTGENERATION(GRID1(), GRID2())        CALL DRAWSCREEN(GRID2())        CALL NEXTGENERATION(GRID2(), GRID1())        CALL DRAWSCREEN(GRID1())      NEXT      INPUT "";A$      END      !----------------------------------------------------------      !      ! DrawScreen - Draw the cells on the graphics screen      !      ! Parameters:      !    Grid - array containing the state of the spots      !      !----------------------------------------------------------      SUB DRAWSCREEN(GRID() AS INTEGER )      DIM R AS INTEGER , C AS INTEGER :! Row and column number.      SETPENSIZE (3, 3)      FOR R = 1 TO 20        FOR C = 1 TO 20          IF GRID(C, R) = 0 THEN            SETSOLIDPENPAT (0)          ELSE            SETSOLIDPENPAT (15)          END IF          MOVETO (C * 4, R * 4)          LINETO (C * 4, R * 4)        NEXT      NEXT      END SUB      !----------------------------------------------------------      !      ! InitGraphics - Set up for graphics      !      !----------------------------------------------------------      SUB INITGRAPHICS      HGR      SETPENMODE (0)      SETSOLIDPENPAT (15)      END SUB      !----------------------------------------------------------      !      ! NextGeneration - Calculate the next generation      !      ! Parameters:      !    Grid1 - array containing the current state of the spots      !    Grid2 - array containing the new state of the spots      !      !----------------------------------------------------------      SUB NEXTGENERATION(GRID1() AS INTEGER , GRID2() AS INTEGER )      DIM R AS INTEGER , C AS INTEGER :! Row and column number.      DIM N AS INTEGER :! Number of occupied surrounding cells.      FOR R = 1 TO 20        FOR C = 1 TO 20          N = GRID1(C - 1, R - 1) + GRID1(C, R - 1) + GRID1(C + 1, R - 1) + GRID1(C - 1, R) + GRID1(C + 1, R) + GRID1(C - 1, R + 1) + GRID1(C, R + 1) + GRID1(C + 1, R + 1)          IF N = 3 THEN            GRID2(C, R) = 1          ELSE IF N = 2 THEN            GRID2(C, R) = GRID1(C, R)          ELSE            GRID2(C, R) = 0          END IF        NEXT      NEXT      END SUB