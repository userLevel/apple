{$keep 'CLine'}{--------------------------------------------------------------}{                                                              }{  Command Line                                                }{                                                              }{  On the Apple IIgs, all EXE programs can expect three things }{  to be passed to them by the shell: a user ID number for use }{  with tool kits, an eight character shell ID which           }{  identifies the shell that executed the program, and the     }{  text from the command line itself.  This program shows how  }{  to access these values from Pascal, printing them to the    }{  screen.  Be sure and execute the program with some text     }{  after the name - for example,                               }{                                                              }{       CLINE Hello, world.                                    }{                                                              }{  When any EXE program returns to the shell, it passes an     }{  error code in the A register.  If you return normally from  }{  a program, ORCA/Pascal sets the error code to 0, indicating }{  no error.  The halt procedure can be used to exit with a    }{  non-zero error code; in this case, though, the error code   }{  is still set to 0.                                          }{                                                              }{  By Mike Westerfield                                         }{                                                              }{  Copyright 1987-1990                                         }{  Byte Works, Inc.                                            }{                                                              }{--------------------------------------------------------------}program CLine(output);var  shellName: string[8];  line: string[255];  userNumber: integer;beginuserNumber := UserID;ShellID(shellName);CommandLine(line);writeln('User ID: ', userNumber);writeln('Shell ID: ', shellName);writeln('Command line: ',line);halt(0);end.