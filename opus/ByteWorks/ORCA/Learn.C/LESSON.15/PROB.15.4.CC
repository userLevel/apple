/* Check to see how many compares are needed by a typical quicksort */#include <stdio.h>#include <stdlib.h>#define SIZE 10                         /* size of the array to sort */#define TRIALS 100                      /* number of trial runs */int a[SIZE];                            /* array to sort */int count = 0;                          /* number of array element compares */void Fill (void)/* Fill an array                                                *//*                                                              *//* Variables:                                                   *//*    a - array to fill                                         */{int i;                                  /* loop variable */for (i = 0; i < SIZE; ++i)   a[i] = rand() % SIZE;}void Sort (int left, int right)/* Sort an array                                                *//*                                                              *//* Parameters:                                                  *//*    left - leftmost part of the array to sort                 *//*    right - rightmost part of the array to sort               *//*                                                              *//* Variables:                                                   *//*    a - array to sort                                         */{int i,j;                                /* array indices */int pivot;                              /* pivot value */int temp;                               /* used to swap values */if (right > left) {                     /* quit if there is only 1 element */   i = (left-1) + ((right-left+1) / 2); /* find the pivot index */   pivot = a[i];                        /* put the pivot at the end */   a[i] = a[right];                     /* (remember the pivot, too) */   a[right] = pivot;   i = left;                            /* set up the start indices */   j = right-1;   while (i != j) {                     /* partition the array */      ++count;      while ((a[i] <= pivot) && (i != j)) {         ++count;         ++i;         }      ++count;      while ((a[j] >= pivot) && (i != j)) {         ++count;         --j;         }      temp = a[i];      a[i] = a[j];      a[j] = temp;      }   ++count;   if (a[i] < pivot)                    /* find the pivot insert point */      ++i;   temp = a[i];                         /* replace the pivot */   a[i] = a[right];   a[right] = temp;   Sort(left, i-1);                     /* sort to the left of the pivot */   Sort(i+1, right);                    /* sort to the right of the pivot */   }}void main (void)/* main program                                                 */{int i;                                  /* loop variable */srand(2345);                            /* initialize the random number generator */for (i = 0; i < TRIALS; ++i) {          /* do the trial runs */   Fill();   Sort(0, SIZE-1);   }                                        /* print the results */printf("The average number of compares is %.2f.\n",   ((float)count)/TRIALS);}