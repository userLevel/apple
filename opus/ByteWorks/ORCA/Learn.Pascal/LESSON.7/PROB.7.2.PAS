{ Rotate three cubes in the graphics window.    }{                                               }{ This program makes use of two constants,      }{ xScale and yScale, to decide how to convert   }{ from the real numbers used to represent the   }{ points of the cube into the integer           }{ coordinates used by QuickDraw.  These values  }{ will convert from inches to pixels in 640     }{ mode on a 12" monitor.                        }program RotateCube;uses Common, QuickDrawII;const   xScale = 86;                 {x conversion factor}   yScale = 33;                 {y conversion factor}   pi = 3.1415927;              {circumference of a circle}type   fourReals = array[1..4] of real; {array of four reals}var   bx,by: fourReals;            {points in the black square}   gx,gy: fourReals;            {points in the green square}   px,py: fourReals;            {points in the purple square}   oldX,oldY: fourReals;        {points in the last square drawn}   i: integer;                  {loop variable}   procedure InitGraphics;   { Standard graphics initialization           }   begin {InitGraphics}   SetPenMode(0);               {pen mode = copy}   SetSolidPenPat(0);           {pen color = black}   SetPenSize(3,1);             {use a square pen}   end; {InitGraphics}   procedure Rotate (var x,y: real; angle,ox,oy: real);   { Rotate the point x,y about ox,oy through   }   { the angle given.                           }   {                                            }   { Parameters:                                }   {    x,y - point to rotate                   }   {    angle - angle to rotate (in radians)    }   {    ox,oy - point to rotate around          }   var      cosAngle,sinAngle: real;  {sin and cos of angle}      nx: real;                 {new x}   begin {Rotate}   x := x-ox;                   {move the point}   y := y-oy;   cosAngle := cos(angle);      {this takes time - save the results}   sinAngle := sin(angle);   nx := x*cosAngle + y*sinAngle; {rotate the point}   y := y*cosAngle - x*sinAngle;   x := nx+ox;                  {move the point back}   y := y+oy;   end; {Rotate}   procedure RotateSquare(var x,y: fourReals; angle: real);   { Rotate the square 9 degrees                }   {                                            }   { Parameters:                                }   {    x,y - coordinates of square             }   {    angle - angle to rotate                 }   var      i: integer;               {loop variable}   begin {RotateSquare}   for i := 1 to 4 do      Rotate(x[i], y[i], angle, 1.5, 1.5);   end; {RotateSquare}   procedure DrawSquare (x,y: fourReals; color: integer);   { Draw the square                            }   {                                            }   { Parameters:                                }   {    x,y - coordinates of the square         }   {    color - color to draw                   }   begin {DrawSquare}   SetSolidPenPat(color);       {set the pen color}                                {draw the square}   MoveTo(round(x[1]*xScale), round(y[1]*yScale));   LineTo(round(x[2]*xScale), round(y[2]*yScale));   LineTo(round(x[3]*xScale), round(y[3]*yScale));   LineTo(round(x[4]*xScale), round(y[4]*yScale));   LineTo(round(x[1]*xScale), round(y[1]*yScale));   end; {DrawSquare}beginInitGraphics;                   {set up the graphics window}bx[1] := 1.0;   by[1] := 1.0;   {initialize the black square}bx[2] := 2.0;   by[2] := 1.0;bx[3] := 2.0;   by[3] := 2.0;bx[4] := 1.0;   by[4] := 2.0;gx[1] := 1.25;  gy[1] := 1.25;  {initialize the green square}gx[2] := 1.75;  gy[2] := 1.25;gx[3] := 1.75;  gy[3] := 1.75;gx[4] := 1.25;  gy[4] := 1.75;px[1] := 1.4;   py[1] := 1.4;   {initialize the purple square}px[2] := 1.6;   py[2] := 1.4;px[3] := 1.6;   py[3] := 1.6;px[4] := 1.4;   py[4] := 1.6;DrawSquare(bx,by,0);            {draw the black square}DrawSquare(gx,gy,2);            {draw the green square}DrawSquare(px,py,1);            {draw the purple square}for i := 1 to 10 do begin                                {rotate the black square}   oldX := bx;                  {save the current location}   oldY := by;   RotateSquare(bx,by,pi/20.0); {rotate}   DrawSquare(oldX,oldY,3);     {erase the old square}   DrawSquare(bx,by,0);         {draw the new square}                                {rotate the green square}   oldX := gx;                  {save the current location}   oldY := gy;   RotateSquare(gx,gy,-pi/10.0); {rotate}   DrawSquare(oldX,oldY,3);     {erase the old square}   DrawSquare(gx,gy,2);         {draw the new square}                                {rotate the purple square}   oldX := px;                  {save the current location}   oldY := py;   RotateSquare(px,py,pi/5.0);  {rotate}   DrawSquare(oldX,oldY,3);     {erase the old square}   DrawSquare(px,py,1);         {draw the new square}   end; {for}end.