         KEEP  TOOLKIT         MCOPY TEST.MACROS******************************************************************  This benchmark program performs 10 multiplications, saving*  the result of each.  The 10 multiplications are repeated*  1000 times.  The multiplication is performed using the integer*  math toolkit.**  Written by Barbara Allred and Mike Westerfield**  By The Byte Works Inc.*  Copyright (c) 1986*  All rights reserved.******************************************************************T        START         PHK         PLB         PUTS  #'Start the clock',CR=T         LDA   #10000         STA   COUNTTOP1     LDY   #0         LDX   #10TOP2     PHY                            save Y and X registers         PHX         PHA                            push room for output         PHA         LDA   M1,Y                     push first value         PHA         LDA   M2,Y                     push second value         PHA         LDX   #$090B                   call multiply tool         JSL   $E10000          PLA                            pull 32-bit result from stack         STA   TEMP         PLA         STA   TEMP+2         PLX                            restore X and Y registers         PLY         LDA   TEMP         STA   RES,Y         INY                            get next pair to multiply         INY         DBNE  X,TOP2         DBNE  COUNT,TOP1               repeat inner loop 1000 times         PUTS  #'Stop the clock',CR=T         LDX   #18                      check resultsTOP3     LDA   RES,X         CMP   ANS,X         BNE   ERROR         DEX         DBPL  X,TOP3         LDA     #0         RTLERROR    PUTS  #'Error in multiply routine',CR=T         LDA   #$FFFF         RTLTEMP     DS    4COUNT    DS    2RES      DS    20M1       DC    I2'0,11,22,33,44,55,66,77,88,99'M2       DC    I2'5,76,34,123,654,41,92,18,12,99'ANS      DC    I2'0,836,748,4059,28776,2255,6072,1386,1056,9801'         END