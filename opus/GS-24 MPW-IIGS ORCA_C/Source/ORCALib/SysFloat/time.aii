			case  on	seg   ''******************************************************************  Time - Time and date libraries for C**  This code implements the tables and subroutines needed to*  support the standard C library TIME.**  This porition of the library contains subroutines that are*  dependent on the way floating-point calculations are*  performed.  The main portion of the library is in ORCACLib.**  January 1989*  Mike Westerfield**  Copyright 1989*  Byte Works, Inc.************************************************************************************************************************************  difftime - return the difference between two times as a real**  Inputs:*        t1, t2 - two times**  Outputs:*        returns the difference as a real******************************************************************		EXPORT	difftime difftime PROC;;       csubroutine (4:t1,4:t2),0	; t1       equ   0+4+0t2       equ   4+4+0         tsc         phd         tcd         phb         phk         plb;;       sub4  t1,t2,itime              ;get the difference;;       ~SETM	;          SEC;;       ~LDA  t1         LDA   t1;;       ~OP   SBC,t2         SBC   t2;;       ~STA  itime         STA   itime;;       ~LDA.H t1	;          LDA   2+t1;;       ~OP.H SBC,t2	;          SBC   2+t2;;       ~STA.H itime	;          STA   2+itime;;       ~RESTM	; ;;       ph4   #itime                   ;convert to real	;          PEA   +(itime)>>16         PEA   itime;;       ph4   #xtime	;          PEA   +(xtime)>>16         PEA   xtime;;       fl2x         PEA   $030E         LDX   #$090A         JSL   $E10000;;       lla   t1,xtime	;          LDA   #xtime         STA   t1         LDA   #^xtime         STA   2+t1         plb;;       creturn 4:t1	;          ldx   t1+2         ldy   t1         lda   0+2         sta   0+8+2         lda   0+1         sta   0+8+1         pld         tsc         clc         adc   #0+8         tcs         tya         rtlitime		DS.B 4xtime		DS.B 10		ENDP		END